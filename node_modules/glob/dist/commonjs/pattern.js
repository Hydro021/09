"use strict";
// this is just a very light wrapper around 2 arrays with an offset index
Object.defineProperty(exports, "__esModule", { value: true });
exports.Pattern = void 0;
const minimatch_1 = require("minimatch");
const isPatternList = (pl) => pl.length >= 1;
const isGlobList = (gl) => gl.length >= 1;
/**
 * An immutable-ish view on an array of glob parts and their parsed
 * results
 */
class Pattern {
    #patternList;
    #globList;
    #index;
    length;
    #platform;
    #rest;
    #globString;
    #isDrive;
    #isUNC;
    #isAbsolute;
    #followGlobstar = true;
    constructor(patternList, globList, index, platform) {
        if (!isPatternList(patternList)) {
            throw new TypeError('empty pattern list');
        }
        if (!isGlobList(globList)) {
            throw new TypeError('empty glob list');
        }
        if (globList.length !== patternList.length) {
            throw new TypeError('mismatched pattern list and glob list lengths');
        }
        this.length = patternList.length;
        if (index < 0 || index >= this.length) {
            throw new TypeError('index out of range');
        }
        this.#patternList = patternList;
        this.#globList = globList;
        this.#index = index;
        this.#platform = platform;
        // normalize root entries of absolute patterns on initial creation.
        if (this.#index === 0) {
            // c: => ['c:/']
            // C:/ => ['C:/']
            // C:/x => ['C:/', 'x']
            // //host/share => ['//host/share/']
            // //host/share/ => ['//host/share/']
            // //host/share/x => ['//host/share/', 'x']
            // /etc => ['/', 'etc']
            // / => ['/']
            if (this.isUNC()) {
                // '' / '' / 'host' / 'share'
                const [p0, p1, p2, p3, ...prest] = this.#patternList;
                const [g0, g1, g2, g3, ...grest] = this.#globList;
                if (prest[0] === '') {
                    // ends in /
                    prest.shift();
                    grest.shift();
                }
                const p = [p0, p1, p2, p3, ''].join('/');
                const g = [g0, g1, g2, g3, ''].join('/');
                this.#patternList = [p, ...prest];
                this.#globList = [g, ...grest];
                this.length = this.#patternList.length;
            }
            else if (this.isDrive() || this.isAbsolute()) {
                const [p1, ...prest] = this.#patternList;
                const [g1, ...grest] = this.#globList;
                if (prest[0] === '') {
                    // ends in /
                    prest.shift();
                    grest.shift();
                }
                const p = p1 + '/';
                const g = g1 + '/';
                this.#patternList = [p, ...prest];
                this.#globList = [g, ...grest];
                this.length = this.#patternList.length;
            }
        }
    }
    /**
     * The first entry in the parsed list of patterns
     */
    pattern() {
        return this.#patternList[this.#index];
    }
    /**
     * true of if pattern() returns a string
     */
    isString() {
        return typeof this.#patternList[this.#index] === 'string';
    }
    /**
     * true of if pattern() returns GLOBSTAR
     */
    isGlobstar() {
        return this.#patternList[this.#index] === minimatch_1.GLOBSTAR;
    }
    /**
     * true if pattern() returns a regexp
     */
    isRegExp() {
        return this.#patternList[this.#index] instanceof RegExp;
    }
    /**
     * The /-joined set of glob parts that make up this pattern
     */
    globString() {
        return (this.#globString =
            this.#globString ||
                (this.#index === 0
                    ? this.isAbsolute()
                        ? this.#globList[0] + this.#globList.slice(1).join('/')
                        : this.#globList.join('/')
                    : this.#globList.slice(this.#index).join('/')));
    }
    /**
     * true if there are more pattern parts after this one
     */
    hasMore() {
     evästeet tällä sivustollaPoistetaanko kaikki data?Poistetaanko näkyvä data?Nämä sivustot kuuluvat ryhmään, jonka $1 on määritellyt. Ryhmään kuuluvat sivustot voivat nähdä toimintasi ryhmässäLue lisää aiheeseen liittyvistä sivustoista uudella välilehdelläSivustojen yhteensä käyttämä tallennustila: $1Näkyvien sivustojen käyttämä tallennustila yhteensä: $1Poista kaikki dataPoista näkyvä dataNäytä sivuston tiedot: $1{MEMBERS,plural, =1{1 sivusto ryhmässä, jota {FPS_OWNER} ylläpitää}other{{FPS_OWNER} sivustoa ryhmässä, jota {MEMBERS} ylläpitää}}Näytä samaan ryhmään kuuluvat sivustotPoista dataa ja lupiaTämä poistaa $1 dataa, jonka sivustot ovat tallentaneetTämä poistaa $1 dataa, jonka näkyvät sivustot ovat tallentaneetTämä poistaa $1 dataa, jonka sivustot ja asennetut sovellukset ovat tallentaneetTämä poistaa $1 dataa, jonka näkyvät sivustot ja asennetut sovellukset ovat tallentaneetSinut kirjataan ulos kaikilta sivustoilta, myös avoimilta välilehdiltä.Sinut kirjataan ulos näkyviltä sivustoilta, myös avoimilla välilehdilläNollataanko sivuston $1 käyttöoikeudet?Poistetaanko sivustodata?Kaikki data, jonka $1 tallentaa, poistetaan.Kaikki data ja evästeet, jotka $1 on tallentanut, poistetaan.Sinut kirjataan ulos tältä sivustolta, myös avoimilta välilehdiltä.Kaikki offline-data poistetaanMainosten personointiin vaikuttava data poistetaanPoistetaanko sivuston $1 sivustodata ja luvat?Poistetaanko sivuston $1 ja sen asennetun sovelluksen sivustodata ja luvat?Poistetaanko sivustodata ($1), joka on rajoitettu tälle sivustolle: $2?Poistetaanko sivuston $1 ja kaikkien sen alla olevien sivustojen sivustodata ja luvat?Poistetaanko sivuston $1, kaikkien sen alla olevien sivustojen ja sen asennetun sovelluksen sivustodata ja luvat?Poistetaanko sivuston $1, kaikkien sen alla olevien sivustojen ja asennettujen sovellusten sivustodata ja luvat?Sinut kirjataan ulos tältä sivustolta, myös avoimilta välilehdiltäSinut kirjataan ulos näiltä sivustoilta, myös avoimilla välilehdilläValitsemasi luvat poistetaanPoista $1Vain nykyinen incognito-istuntoTämä oma asetus poistetaan, kun suljet kaikki incognito-ikkunatZoomausta ei ole käytetty sivustoilla.Anna Chromen valita, milloin sivustot voivat toistaa ääniä (suositus)Käyttämäsi sivustot tulevat näkyviin tähänSivustoja ei löytynytSivustot etsivät yleensä Bluetooth-laitteita esimerkiksi ottaakseen käyttöön tai synkronoidakseen vähän virtaa käyttävän majakan, terveys- tai liikuntaseurannan tai älylampunSivustot voivat pyytää lupaa etsiä Bluetooth-laitteitaÄlä salli sivustojen etsiä Bluetooth-laitteitaBluetooth-laitteiden etsiminen sallittuBluetooth-laitteiden etsiminen ei ole sallittuaTunnus: $1Sivustot voivat tallentaa dataa laitteellesiSivustot eivät saa tallentaa dataa laitteellesiSivustodata poistetaan laitteelta, kun suljet kaikki ikkunat{COUNT,plural, =0{Vanhenee tänään}=1{Vanhenee huomenna}other{Vanhenee # päivän kuluttua}}Laitepohjainen sivustodataAvaamasi sivusto voi tallentaa tietoja toiminnastasi, jotta se toimii odotetulla tavalla – esimerkiksi pitääksesi sinut kirjautuneena sivustolle tai t